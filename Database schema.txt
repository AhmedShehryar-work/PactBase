create table public.pending_users (
  username text not null,
  cnic_no text not null,
  cnic_images jsonb not null default '{"back": null, "front": null}'::jsonb,
  test_images jsonb not null default '{"image1": null, "image2": null, "image3": null}'::jsonb,
  created_at timestamp without time zone null default now(),
  locked boolean null default false,
  full_name text not null,
  constraint pending_users_pkey primary key (username),
  constraint pending_users_cnic_no_key unique (cnic_no)
) TABLESPACE pg_default;

create table public.users (
  username text not null,
  email text not null,
  password text not null,
  profile_image text not null default 'none'::text,
  blocked_users text[] not null default '{}'::text[],
  blocked_by text[] not null default '{}'::text[],
  rating numeric(3, 2) not null default 0.00,
  pacts_fulfilled integer not null default 0,
  created_at timestamp with time zone not null default now(),
  updated_at timestamp with time zone not null default now(),
  status text not null default 'pending'::text,
  full_name text not null,
  pacts_made uuid[] not null default '{}'::uuid[],
  pacts_received uuid[] not null default '{}'::uuid[],
  cnic text not null,
  constraint users_pkey primary key (username),
  constraint users_email_key unique (email),
  constraint users_username_key unique (username)
) TABLESPACE pg_default;

create table public.pacts (
  title text not null,
  conditions text null default 'none'::text,
  "to" text[] not null,
  "from" text not null,
  status text not null default 'awaiting'::text,
  created_at timestamp with time zone not null default now(),
  updated_at timestamp with time zone not null default now(),
  requested boolean not null default false,
  id uuid not null,
  constraint pacts_pkey primary key (id)
) TABLESPACE pg_default;